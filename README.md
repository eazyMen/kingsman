# MR.KINGSMA — премиальный fashion-магазин в вашем телефоне

> Каталог. Личный кабинет и бонусы. Примерка одежды в AR и «примерка к вашим образам» прямо из каталога. На чистой архитектуре, MVVM и Jetpack Compose.

---

## Содержание

* [О приложении](#о-приложении)
* [Ключевые возможности](#ключевые-возможности)
* [Технологический стек](#технологический-стек)
* [Архитектура](#архитектура)
* [Структура модулей](#структура-модулей)
* [Сборка и запуск](#сборка-и-запуск)
* [Конфигурация](#конфигурация)

---

## О приложении

**MR.KINGSMA** — мобильное приложение магазина премиальной одежды. Пользователь может просматривать каталог, видеть актуальные акции, доступность размеров и цветов, управлять заказами, бонусами и скидками из личного кабинета. Фишка — **примерка одежды в AR** и **виртуальная примерка из каталога к вашим образам** (загрузка своих фото и подбор сочетаний).

Приложение написано на **Kotlin**, использует **чистую архитектуру**, **MVVM**, **Jetpack Compose**.

> Строгое как смокинг, быстрое как клик на «Купить». И да — AR сидит как сшитое на заказ.

---

## Ключевые возможности

* **Каталог**: фильтры, сортировка, быстрый просмотр, карточка товара (фото, цвета, размеры, состав, рекомендации).
* **Личный кабинет**: история покупок, статусы заказов, скидки, **бонусная система** и баланс.
* **Акции**: актуальные предложения и персональные офферы.
* **Примерка AR**: виртуальная примерка аксессуаров/элементов одежды в дополненной реальности 
* **Примерка к образам**: загрузите свои фото и примеряйте вещи из каталога к собственному стилю.
* **Избранное и списки**: подборки луков, вишлисты.
* **Оффлайн-кэш**: быстрый старт и просмотр последних данных без сети.
* **Push-уведомления**: акции, статус заказа, рекомендации.

---

## Технологический стек

* **Язык**: Kotlin
* **UI**: Jetpack Compose, Material 3, Navigation Compose
* **Архитектура**: Clean Architecture, MVVM, Unidirectional Data Flow (State/Events)
* **DI**: Hilt
* **Асинхронность**: Coroutines, Flow
* **Сеть**: Retrofit/OkHttp, Kotlin Serialization/Moshi
* **Кэш/БД**: SharedPreferences (Prefs/Proto)
* **Изображения**: Glide (адаптеры), placeholder/transition
* **AR**: Snap Camera Kit
* **Аналитика**: Firebase Analytics/Crashlytics (по необходимости)

---

## Архитектура

```
.app  — Экраны, ViewModel, UI state, intent'ы, навигация
.domain        — use-case'ы, интерфейсы репозиториев, модели домена
.data          — источники данных (remote/local), мапперы, реализация репозиториев
.designsystem    — Основные UI элементы приложения 
```

* **State-first UI**: экраны подписаны на `State`, действия идут через `Intent/Event`.
* **Однонаправленный поток данных**: меньше сайд-эффектов, проще тестировать.
* **Навигация**: типобезопасные маршруты, deep links.

---

## Структура модулей

```
:app
:core:designsystem
:core:data
:core:domain

---

## Начало работы

### Требования

* Android Studio Giraffe/Koala или новее
* JDK 21
* Android SDK 24+
* Устройство/эмулятор

## Сборка и запуск

```bash
# Быстрая сборка
./gradlew assembleDebug

## Конфигурация

* **Каталог**: источники данных настраиваются в `data:network` (`RetrofitModule`).
* **Авторизация**: токены в `DataStore`, интерцептор обновления в `OkHttp`.
* **Бонусы/скидки**: эндпоинты `bonuses/*`, отображение в `feature:bonuses`.
* **Примерка к образам**: локальный inference/remote API (провайдер подменяется интерфейсом `TryOnGateway`).
* **AR**:

  * `Snap Camera Kit`: интеграция через `camerakit` + Lens ID/Group ID

---

## Качество кода

* **Стиль**: `ktlint` (+ авто-формат), `detekt` — правила лежат в `/config`.
* **Тестирование**: покрываем use-case'ы и мапперы, UI state редюсеры.

## Контакты

* Telegram: `@izamych`
